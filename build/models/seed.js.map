{"version":3,"sources":["../../server/models/seed.js"],"names":["dotenv","config","migrateUser","username","password","email","role","hash","bcrypt","hashSync","query","text","values","pool","migrateProduct","productName","productCategory","quantityLeft","quantitySold","price","minQuantity","migrateSale","seller","total","migrateUserPromise","Promise","resolve","then","res"],"mappings":";;AAAA;;AACA;;AACA;;;;AAEAA,gBAAOC,MAAP;;AAEA,SAASC,WAAT,CAAqBC,QAArB,EAA+BC,QAA/B,EAAyCC,KAAzC,EAAgDC,IAAhD,EAAsD;AACpD,MAAMC,IAAI,GAAGC,kBAAOC,QAAP,CAAgBL,QAAhB,EAA0B,EAA1B,CAAb;;AACA,MAAMM,KAAK,GAAG;AACZC,IAAAA,IAAI,EAAE,4EADM;AAEZC,IAAAA,MAAM,EAAE,CAACT,QAAD,EAAWI,IAAX,EAAiBF,KAAjB,EAAwBC,IAAxB;AAFI,GAAd;;AAKAO,oBAAKH,KAAL,CAAWA,KAAX;AACD;;AAED,SAASI,cAAT,CACEC,WADF,EACeC,eADf,EACgCC,YADhC,EAC8CC,YAD9C,EAC4DC,KAD5D,EACmEC,WADnE,EAEE;AACA,MAAMV,KAAK,GAAG;AACZC,IAAAA,IAAI,EAAE,+IADM;AAEZC,IAAAA,MAAM,EAAE,CAACG,WAAD,EAAcC,eAAd,EAA+BC,YAA/B,EAA6CC,YAA7C,EAA2DC,KAA3D,EAAkEC,WAAlE;AAFI,GAAd;;AAKAP,oBAAKH,KAAL,CAAWA,KAAX;AACD;;AAED,SAASW,WAAT,CAAqBC,MAArB,EAA6BP,WAA7B,EAA0CG,YAA1C,EAAwDC,KAAxD,EAA+DI,KAA/D,EAAsE;AACpE,MAAMb,KAAK,GAAG;AACZC,IAAAA,IAAI,EAAE,uGADM;AAEZC,IAAAA,MAAM,EAAE,CAACU,MAAD,EAASP,WAAT,EAAsBG,YAAtB,EAAoCC,KAApC,EAA2CI,KAA3C;AAFI,GAAd;;AAIAV,oBAAKH,KAAL,CAAWA,KAAX;AACD;;AAED,IAAMc,kBAAkB,GAAG,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAa;AAClDxB,EAAAA,WAAW,CAAC,OAAD,EAAU,cAAV,EAA0B,cAA1B,EAA0C,OAA1C,CAAX;AACAwB,EAAAA,OAAO,CAAC,IAAD,CAAP;AACD,CAH0B,CAA3B;AAKAF,kBAAkB,CACfG,IADH,CACQ,UAACC,GAAD,EAAS;AACb1B,EAAAA,WAAW,CAAC,WAAD,EAAc,cAAd,EAA8B,iBAA9B,EAAiD,WAAjD,CAAX;AACA,SAAO0B,GAAP;AACD,CAJH,EAKGD,IALH,CAKQ,YAAM;AACVzB,EAAAA,WAAW,CAAC,WAAD,EAAc,kBAAd,EAAkC,qBAAlC,EAAyD,WAAzD,CAAX;AACD,CAPH;AASAY,cAAc,CAAC,SAAD,EAAY,aAAZ,EAA2B,EAA3B,EAA+B,CAA/B,EAAkC,OAAlC,EAA2C,CAA3C,CAAd;AACAA,cAAc,CAAC,OAAD,EAAU,WAAV,EAAuB,EAAvB,EAA2B,CAA3B,EAA8B,OAA9B,EAAuC,CAAvC,CAAd;AACAA,cAAc,CAAC,OAAD,EAAU,YAAV,EAAwB,CAAxB,EAA2B,EAA3B,EAA+B,OAA/B,EAAwC,CAAxC,CAAd;AAEAO,WAAW,CAAC,WAAD,EAAc,SAAd,EAAyB,CAAzB,EAA4B,OAA5B,EAAqC,OAArC,CAAX;AACAA,WAAW,CAAC,WAAD,EAAc,OAAd,EAAuB,CAAvB,EAA0B,OAA1B,EAAmC,OAAnC,CAAX;AACAA,WAAW,CAAC,WAAD,EAAc,OAAd,EAAuB,CAAvB,EAA0B,OAA1B,EAAmC,OAAnC,CAAX","sourcesContent":["import dotenv from 'dotenv';\r\nimport bcrypt from 'bcryptjs';\r\nimport pool from './database';\r\n\r\ndotenv.config();\r\n\r\nfunction migrateUser(username, password, email, role) {\r\n  const hash = bcrypt.hashSync(password, 10);\r\n  const query = {\r\n    text: 'INSERT INTO users(username, password, email, role) VALUES($1, $2, $3, $4);',\r\n    values: [username, hash, email, role],\r\n  };\r\n\r\n  pool.query(query);\r\n}\r\n\r\nfunction migrateProduct(\r\n  productName, productCategory, quantityLeft, quantitySold, price, minQuantity,\r\n) {\r\n  const query = {\r\n    text: 'INSERT INTO products(productName, productCategory, quantityLeft, quantitySold, price, minQuantity) VALUES($1, $2, $3, $4, $5, $6) RETURNING *',\r\n    values: [productName, productCategory, quantityLeft, quantitySold, price, minQuantity],\r\n  };\r\n\r\n  pool.query(query);\r\n}\r\n\r\nfunction migrateSale(seller, productName, quantitySold, price, total) {\r\n  const query = {\r\n    text: 'INSERT INTO sales(seller, productName, quantity, price, total) VALUES($1, $2, $3, $4, $5) RETURNING *',\r\n    values: [seller, productName, quantitySold, price, total],\r\n  };\r\n  pool.query(query);\r\n}\r\n\r\nconst migrateUserPromise = new Promise((resolve) => {\r\n  migrateUser('admin', 'admin123ABC#', 'ad@jmail.com', 'admin');\r\n  resolve(true);\r\n});\r\n\r\nmigrateUserPromise\r\n  .then((res) => {\r\n    migrateUser('attendant', 'attendantA1#', 'atten@jmail.com', 'attendant');\r\n    return res;\r\n  })\r\n  .then(() => {\r\n    migrateUser('anonimous', 'anonimousABC123#', 'anonimous@jmail.com', 'attendant');\r\n  });\r\n\r\nmigrateProduct('charger', 'electronics', 50, 1, '10.00', 1);\r\nmigrateProduct('chair', 'furniture', 50, 1, '10.00', 1);\r\nmigrateProduct('sugar', 'provisions', 0, 50, '10.00', 1);\r\n\r\nmigrateSale('anonimous', 'charger', 3, '10.00', '30.00');\r\nmigrateSale('anonimous', 'chair', 3, '10.00', '30.00');\r\nmigrateSale('anonimous', 'chair', 3, '10.00', '30.00');\r\n"],"file":"seed.js"}