{"version":3,"sources":["../../../server/middlewares/validate/validateSales.js"],"names":["validateSales","req","res","next","body","seller","productName","quantity","price","total","valid","errors","length","push","status","send","message"],"mappings":";;;;;AAAA,SAASA,aAAT,CAAuBC,GAAvB,EAA4BC,GAA5B,EAAiCC,IAAjC,EAAuC;AAAA,kBAGjCF,IAAIG,IAH6B;AAAA,MAEnCC,MAFmC,aAEnCA,MAFmC;AAAA,MAE3BC,WAF2B,aAE3BA,WAF2B;AAAA,MAEdC,QAFc,aAEdA,QAFc;AAAA,MAEJC,KAFI,aAEJA,KAFI;AAAA,MAEGC,KAFH,aAEGA,KAFH;;;AAKrC,MAAIC,QAAQ,CAAZ;;AAEA,MAAMC,SAAS,EAAf;;AAEA,MAAIN,OAAOO,MAAP,GAAgB,CAApB,EAAuB;AACrBF,aAAS,CAAT;AACD,GAFD,MAEO;AACLC,WAAOE,IAAP,CAAY,iDAAZ;AACD;;AAED,MAAIP,YAAYM,MAAZ,GAAqB,CAAzB,EAA4B;AAC1BF,aAAS,CAAT;AACD,GAFD,MAEO;AACLC,WAAOE,IAAP,CAAY,qDAAZ;AACD;;AAED,MAAI,OAAON,QAAP,KAAoB,QAApB,IAAgCA,WAAW,CAA/C,EAAkD;AAChDG,aAAS,CAAT;AACD,GAFD,MAEO;AACLC,WAAOE,IAAP,CAAY,+CAAZ;AACD;;AAED,MAAI,OAAOL,KAAP,KAAiB,QAArB,EAA+B;AAC7BE,aAAS,CAAT;AACD,GAFD,MAEO;AACLC,WAAOE,IAAP,CAAY,0BAAZ;AACD;;AAED,MAAI,OAAOJ,KAAP,KAAiB,QAAjB,IAA6BA,UAAUD,QAAQD,QAAnD,EAA6D;AAC3DG,aAAS,CAAT;AACD,GAFD,MAEO;AACLC,WAAOE,IAAP,CAAY,wDAAZ;AACD;;AAED,MAAIH,QAAQ,CAAZ,EAAe;AACb,WAAOR,IAAIY,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAAEC,SAAS,gBAAX,EAA6BL,cAA7B,EAArB,CAAP;AACD;;AAED,SAAOR,MAAP;AACD;;kBAEcH,a","file":"validateSales.js","sourcesContent":["function validateSales(req, res, next) {\r\n  const {\r\n    seller, productName, quantity, price, total,\r\n  } = req.body;\r\n\r\n  let valid = 0;\r\n\r\n  const errors = [];\r\n\r\n  if (seller.length > 1) {\r\n    valid += 1;\r\n  } else {\r\n    errors.push('creator should be more than one character long.');\r\n  }\r\n\r\n  if (productName.length > 1) {\r\n    valid += 1;\r\n  } else {\r\n    errors.push('productName should be more than one character long.');\r\n  }\r\n\r\n  if (typeof quantity === 'number' && quantity > 0) {\r\n    valid += 1;\r\n  } else {\r\n    errors.push('quantity should be a number greater than zero');\r\n  }\r\n\r\n  if (typeof price === 'number') {\r\n    valid += 1;\r\n  } else {\r\n    errors.push('price should be a number');\r\n  }\r\n\r\n  if (typeof total === 'number' && total === price * quantity) {\r\n    valid += 1;\r\n  } else {\r\n    errors.push('total should be a number equal to price times quantity');\r\n  }\r\n\r\n  if (valid < 5) {\r\n    return res.status(422).send({ message: 'Invalid inputs', errors });\r\n  }\r\n\r\n  return next();\r\n}\r\n\r\nexport default validateSales;\r\n"]}