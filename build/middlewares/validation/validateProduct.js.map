{"version":3,"sources":["../../../server/middlewares/validation/validateProduct.js"],"names":["validateTextField","validationLibrary","validateNumberField","ValidateProductInput","req","res","next","body","productName","productCategory","quantityLeft","quantitySold","price","minQuantity","productNameValid","productCategoryValid","quantityLeftValid","quantitySoldValid","priceValid","minQuantityValid","status","json","error","productId","params","productIdValid"],"mappings":"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","sourcesContent":["import validationLibrary from './library/validationLibrary';\r\n\r\nconst { validateTextField, validateNumberField } = validationLibrary;\r\n\r\nclass ValidateProductInput {\r\n  static validateAddProduct(req, res, next) {\r\n    const {\r\n      productName, productCategory, quantityLeft, quantitySold, price, minQuantity,\r\n    } = req.body;\r\n\r\n    const productNameValid = validateTextField('productName', productName, 2, 30, /^\\w+$/, 'sugar_23g, sugar, 3233, shirt');\r\n    const productCategoryValid = validateTextField('productCategory', productCategory, 2, 15, /^\\w+$/, 'provisions, clothing');\r\n    const quantityLeftValid = validateNumberField('quantityLeft', quantityLeft, 0, 10000000, /^\\d+$/, '4 or 64');\r\n    const quantitySoldValid = validateNumberField('quantitySold', quantitySold, 0, 10000000, /^\\d+$/, '4, 18');\r\n    const priceValid = validateNumberField('price', price, 0.01, 100000000, /^\\d+.\\d\\d$/, '30.00, 23.34');\r\n    const minQuantityValid = validateNumberField('minQuantity', minQuantity, 1, 100000000, /^\\d+$/, '4, 18');\r\n\r\n    if (productNameValid !== true) {\r\n      res.status(422).json({ error: productNameValid });\r\n    } else if (productCategoryValid !== true) {\r\n      res.status(422).json({ error: productCategoryValid });\r\n    } else if (quantityLeftValid !== true) {\r\n      res.status(422).json({ error: quantityLeftValid });\r\n    } else if (quantitySoldValid !== true) {\r\n      res.status(422).json({ error: quantitySoldValid });\r\n    } else if (priceValid !== true) {\r\n      res.status(422).json({ error: priceValid });\r\n    } else if (minQuantityValid !== true) {\r\n      res.status(422).json({ error: minQuantityValid });\r\n    } else {\r\n      next();\r\n    }\r\n  }\r\n\r\n  static validateUpdateDetails(req, res, next) {\r\n    const {\r\n      productName, productCategory, quantityLeft, price, minQuantity,\r\n    } = req.body;\r\n    const { productId } = req.params;\r\n\r\n    const productIdValid = validateNumberField('productId', productId, 1, 100000, /^\\d+$/, '3, 4, 100');\r\n    const productNameValid = validateTextField('productName', productName, 2, 30, /^\\w+$/, 'sugar_23g, sugar, 3233, shirt');\r\n    const productCategoryValid = validateTextField('productCategory', productCategory, 2, 15, /^\\w+$/, 'provisions, clothing');\r\n    const quantityLeftValid = validateNumberField('quantityLeft', quantityLeft, 0, 10000000, /^\\d+$/, '4 or 64');\r\n    const priceValid = validateNumberField('price', price, 0.01, 100000000, /^\\d+.\\d\\d$/, '30.00, 23.34');\r\n    const minQuantityValid = validateNumberField('minQuantity', minQuantity, 1, 100000000, /^\\d+$/, '4, 18');\r\n\r\n    if (productIdValid !== true) {\r\n      res.status(422).json({ error: 'productId parameter invalid' });\r\n    } else if (productNameValid !== true) {\r\n      res.status(422).json({ error: productNameValid });\r\n    } else if (productCategoryValid !== true) {\r\n      res.status(422).json({ error: productCategoryValid });\r\n    } else if (quantityLeftValid !== true) {\r\n      res.status(422).json({ error: quantityLeftValid });\r\n    } else if (priceValid !== true) {\r\n      res.status(422).json({ error: priceValid });\r\n    } else if (minQuantityValid !== true) {\r\n      res.status(422).json({ error: minQuantityValid });\r\n    } else {\r\n      next();\r\n    }\r\n  }\r\n\r\n  static validateProductSold(req, res, next) {\r\n    const { quantitySold } = req.body;\r\n    const { productId } = req.params;\r\n\r\n    const productIdValid = validateNumberField('productId', productId, 1, 100000, /^\\d+$/, '3, 4, 100');\r\n    const quantitySoldValid = validateNumberField('quantitySold', quantitySold, 1, 10000000, /^\\d+$/, '4, 18');\r\n\r\n    if (productIdValid !== true) {\r\n      res.status(422).json({ error: 'productId parameter invalid' });\r\n    } else if (quantitySoldValid !== true) {\r\n      res.status(422).json({ error: quantitySoldValid });\r\n    } else {\r\n      next();\r\n    }\r\n  }\r\n\r\n  static validateProductId(req, res, next) {\r\n    const { productId } = req.params;\r\n\r\n    const productIdValid = validateNumberField('productId', productId, 1, 100000, /^\\d+$/, '3, 4, 100');\r\n\r\n    if (productIdValid !== true) {\r\n      res.status(422).json({ error: 'productId parameter invalid' });\r\n    } else {\r\n      next();\r\n    }\r\n  }\r\n}\r\n\r\nexport default ValidateProductInput;\r\n"],"file":"validateProduct.js"}