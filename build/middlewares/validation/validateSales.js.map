{"version":3,"sources":["../../../server/middlewares/validation/validateSales.js"],"names":["validateTextField","validationLibrary","validateNumberField","ValidateSaleInput","req","res","next","body","seller","productName","quantity","price","total","sellerValid","productNameValid","quantityValid","priceValid","totalValid","status","json","error","saleId","params","saleIdValid"],"mappings":";;;;;;;AAAA;;;;;;;;;;IAEQA,iB,GAA2CC,0B,CAA3CD,iB;IAAmBE,mB,GAAwBD,0B,CAAxBC,mB;;IAErBC,iB;;;;;;;;;oCACmBC,G,EAAKC,G,EAAKC,I,EAAM;AAAA,sBAGjCF,GAAG,CAACG,IAH6B;AAAA,UAEnCC,MAFmC,aAEnCA,MAFmC;AAAA,UAE3BC,WAF2B,aAE3BA,WAF2B;AAAA,UAEdC,QAFc,aAEdA,QAFc;AAAA,UAEJC,KAFI,aAEJA,KAFI;AAAA,UAEGC,KAFH,aAEGA,KAFH;AAKrC,UAAMC,WAAW,GAAGb,iBAAiB,CAAC,QAAD,EAAWQ,MAAX,EAAmB,CAAnB,EAAsB,EAAtB,EAA0B,UAA1B,EAAsC,yBAAtC,CAArC;AACA,UAAMM,gBAAgB,GAAGd,iBAAiB,CAAC,aAAD,EAAgBS,WAAhB,EAA6B,CAA7B,EAAgC,EAAhC,EAAoC,OAApC,EAA6C,+BAA7C,CAA1C;AACA,UAAMM,aAAa,GAAGb,mBAAmB,CAAC,UAAD,EAAaQ,QAAb,EAAuB,CAAvB,EAA0B,QAA1B,EAAoC,OAApC,EAA6C,OAA7C,CAAzC;AACA,UAAMM,UAAU,GAAGd,mBAAmB,CAAC,OAAD,EAAUS,KAAV,EAAiB,IAAjB,EAAuB,YAAvB,EAAqC,YAArC,EAAmD,cAAnD,CAAtC;AACA,UAAMM,UAAU,GAAGf,mBAAmB,CAAC,OAAD,EAAUU,KAAV,EAAiB,IAAjB,EAAuB,YAAvB,EAAqC,YAArC,EAAmD,oBAAnD,CAAtC;;AAEA,UAAIC,WAAW,KAAK,IAApB,EAA0B;AACxBR,QAAAA,GAAG,CAACa,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,UAAAA,KAAK,EAAEP;AAAT,SAArB;AACD,OAFD,MAEO,IAAIC,gBAAgB,KAAK,IAAzB,EAA+B;AACpCT,QAAAA,GAAG,CAACa,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,UAAAA,KAAK,EAAEN;AAAT,SAArB;AACD,OAFM,MAEA,IAAIC,aAAa,KAAK,IAAtB,EAA4B;AACjCV,QAAAA,GAAG,CAACa,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,UAAAA,KAAK,EAAEL;AAAT,SAArB;AACD,OAFM,MAEA,IAAIC,UAAU,KAAK,IAAnB,EAAyB;AAC9BX,QAAAA,GAAG,CAACa,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,UAAAA,KAAK,EAAEJ;AAAT,SAArB;AACD,OAFM,MAEA,IAAIC,UAAU,KAAK,IAAnB,EAAyB;AAC9BZ,QAAAA,GAAG,CAACa,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,UAAAA,KAAK,EAAEH;AAAT,SAArB;AACD,OAFM,MAEA;AACLX,QAAAA,IAAI;AACL;AACF;;;mCAEqBF,G,EAAKC,G,EAAKC,I,EAAM;AAAA,UAC5Be,MAD4B,GACjBjB,GAAG,CAACkB,MADa,CAC5BD,MAD4B;AAGpC,UAAME,WAAW,GAAGrB,mBAAmB,CAAC,QAAD,EAAWmB,MAAX,EAAmB,CAAnB,EAAsB,QAAtB,EAAgC,OAAhC,EAAyC,WAAzC,CAAvC;;AAEA,UAAIE,WAAW,KAAK,IAApB,EAA0B;AACxBlB,QAAAA,GAAG,CAACa,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,UAAAA,KAAK,EAAE;AAAT,SAArB;AACD,OAFD,MAEO;AACLd,QAAAA,IAAI;AACL;AACF;;;;;;eAGYH,iB","sourcesContent":["import validationLibrary from './library/validationLibrary';\r\n\r\nconst { validateTextField, validateNumberField } = validationLibrary;\r\n\r\nclass ValidateSaleInput {\r\n  static validateAddSale(req, res, next) {\r\n    const {\r\n      seller, productName, quantity, price, total,\r\n    } = req.body;\r\n\r\n    const sellerValid = validateTextField('seller', seller, 2, 30, /^[a-z]+$/, 'john, doe, jaachi, uche');\r\n    const productNameValid = validateTextField('productName', productName, 2, 30, /^\\w+$/, 'sugar_23g, sugar, 3233, shirt');\r\n    const quantityValid = validateNumberField('quantity', quantity, 1, 10000000, /^\\d+$/, '4, 18');\r\n    const priceValid = validateNumberField('price', price, 0.01, 100000000.00, /^\\d+.\\d\\d$/, '30.00, 23.34');\r\n    const totalValid = validateNumberField('total', total, 0.01, 100000000.00, /^\\d+.\\d\\d$/, '30000.00, 23500.34');\r\n\r\n    if (sellerValid !== true) {\r\n      res.status(422).json({ error: sellerValid });\r\n    } else if (productNameValid !== true) {\r\n      res.status(422).json({ error: productNameValid });\r\n    } else if (quantityValid !== true) {\r\n      res.status(422).json({ error: quantityValid });\r\n    } else if (priceValid !== true) {\r\n      res.status(422).json({ error: priceValid });\r\n    } else if (totalValid !== true) {\r\n      res.status(422).json({ error: totalValid });\r\n    } else {\r\n      next();\r\n    }\r\n  }\r\n\r\n  static validateSaleId(req, res, next) {\r\n    const { saleId } = req.params;\r\n\r\n    const saleIdValid = validateNumberField('saleId', saleId, 1, 10000000, /^\\d+$/, '3, 4, 100');\r\n\r\n    if (saleIdValid !== true) {\r\n      res.status(422).json({ error: 'saleId parameter invalid' });\r\n    } else {\r\n      next();\r\n    }\r\n  }\r\n}\r\n\r\nexport default ValidateSaleInput;\r\n"],"file":"validateSales.js"}